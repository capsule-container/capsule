self.map = function(self, s)
  local arrowLocation = s:find('=>')
  local argsList = s:sub(0, arrowLocation-1)
  local returnValue = s:sub(arrowLocation+2)

  return loadstring('return function('..argsList..') return '..returnValue..' end')()
end